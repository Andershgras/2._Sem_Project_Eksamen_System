@* 
    Pages/_Layout.cshtml
    - Improved semantic structure and accessibility
    - Better responsive behavior
    - Enhanced visual hierarchy
    - Maintained all existing functionality
*@
<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@ViewData["Title"] - Eksamensplanlægning</title>
    <link href="~/css/site.css" rel="stylesheet" />
</head>
<body>
    <div class="app-shell">
        <!-- SIDEBAR SECTION -->
        <aside class="sidebar" role="navigation" aria-label="Hovednavigation">
            <div class="sidebar-flag" aria-hidden="true"></div>

            <div class="sidebar-content">
                <!-- BRAND SECTION -->
                <div class="brand" role="banner">
                    <div class="brand-logo" aria-hidden="true">
                        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="24" height="24" rx="4" fill="#f4b942" />
                            <path d="M6 16L10 9L14 16" stroke="#002b45" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </div>
                    <div class="brand-text">Eksamensplanlægning</div>
                </div>

                <!-- NAVIGATION MENU SECTION -->
                <nav class="nav-list" role="menu" aria-label="Applikationsmenu">
                    <a class="nav-item" asp-page="/Index" role="menuitem">
                        <span class="icon" aria-hidden="true">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                                <path d="M3 11.5L12 4l9 7.5V20a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1V11.5z" stroke="currentColor" stroke-width="1.2" fill="none" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </span>
                        <span class="nav-text">Hjem</span>
                    </a>

                    <a class="nav-item" asp-page="/Exams/Index" role="menuitem">
                        <span class="icon" aria-hidden="true">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                                <path d="M8 6h10M8 12h10M8 18h10M4 6h.01M4 12h.01M4 18h.01" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </span>
                        <span class="nav-text">Eksamener</span>
                    </a>

                    <a class="nav-item" asp-page="/Schedule/Index" role="menuitem">
                        <span class="icon" aria-hidden="true">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                                <rect x="3" y="5" width="18" height="16" rx="2" stroke="currentColor" stroke-width="1.2" />
                                <path d="M16 3v4M8 3v4" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" />
                            </svg>
                        </span>
                        <span class="nav-text">Skema</span>
                    </a>

                    <a class="nav-item" asp-page="/Students/Index" role="menuitem">
                        <span class="icon" aria-hidden="true">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                                <path d="M16 11a3 3 0 1 0-6 0" stroke="currentColor" stroke-width="1.2" />
                                <path d="M6 20v-1a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v1" stroke="currentColor" stroke-width="1.2" />
                            </svg>
                        </span>
                        <span class="nav-text">Studerende</span>
                    </a>

                    <a class="nav-item" asp-page="/Settings/Index" role="menuitem">
                        <span class="icon" aria-hidden="true">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                                <path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z" stroke="currentColor" stroke-width="1.2" />
                                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06A2 2 0 0 1 2.3 16.38l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09c.7 0 1.29-.42 1.51-1a1.65 1.65 0 0 0-.33-1.82l-.06-.06A2 2 0 0 1 6.7 2.3l.06.06a1.65 1.65 0 0 0 1.82.33H8a1.65 1.65 0 0 0 1-1.51V2a2 2 0 0 1 4 0v.09c0 .7.42 1.29 1 1.51.63.22 1.36.01 1.82-.33l.06-.06A2 2 0 0 1 21.7 7.6l-.06.06a1.65 1.65 0 0 0-.33 1.82V10c.22.7.42 1.36.33 1.82z" stroke="currentColor" stroke-width="1.0" />
                            </svg>
                        </span>
                        <span class="nav-text">Indstillinger</span>
                    </a>

                    <!-- PRIVACY LINK SECTION (placed in main nav per requirement) -->
                    <a class="nav-item nav-privacy" asp-page="/Privacy" role="menuitem">
                        <span class="icon" aria-hidden="true">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                                <path d="M12 2l3 5h4l-3 4 3 5h-4l-3 5-3-5H5l3-5-3-4h4l3-5z" stroke="currentColor" stroke-width="1.1" fill="none" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </span>
                        <span class="nav-text">Privacy</span>
                    </a>
                </nav>
            </div>
        </aside>

        <!-- MAIN CONTENT AREA SECTION -->
        <div class="main-content">
            <!-- HEADER SECTION -->
            <header class="app-header">
                <div class="header-left">
                    <button id="sidebarToggle" class="btn-toggle" aria-label="Skift navigation" aria-expanded="true">
                        <svg width="20" height="14" viewBox="0 0 20 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect y="1" width="20" height="2" rx="1" fill="currentColor" />
                            <rect y="6" width="20" height="2" rx="1" fill="currentColor" />
                            <rect y="11" width="20" height="2" rx="1" fill="currentColor" />
                        </svg>
                    </button>
                    <h1 class="page-title">@ViewData["Title"]</h1>
                </div>
                <div class="header-right">
                    @* Username removed intentionally - placeholder for future user menu *@
                </div>
            </header>

            <!-- MAIN CONTENT SECTION -->
            <main class="page-body" role="main">
                @RenderBody()
            </main>

            <!-- FOOTER SECTION -->
            <footer class="app-footer">
                <div class="footer-inner">
                    <div class="footer-accent" aria-hidden="true"></div>
                    <div class="footer-text">© Zealand - Eksamensplanlægning</div>
                </div>
            </footer>
        </div>
    </div>

    <!-- SIDEBAR TOGGLE SCRIPT SECTION -->
    <script>
        // Enhanced responsive sidebar toggle with accessibility improvements
        document.addEventListener('DOMContentLoaded', function() {
            const sidebarToggle = document.getElementById('sidebarToggle');
            const appShell = document.querySelector('.app-shell');

            if (sidebarToggle && appShell) {
                sidebarToggle.addEventListener('click', function() {
                    const isCollapsed = appShell.classList.toggle('collapsed');
                    this.setAttribute('aria-expanded', !isCollapsed);

                    // Update toggle button label for screen readers
                    this.setAttribute('aria-label',
                        isCollapsed ? 'Vis navigation' : 'Skjul navigation');
                });
            }
        });
    </script>
</body>
</html>